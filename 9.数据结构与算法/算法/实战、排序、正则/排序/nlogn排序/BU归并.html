<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
</body>
<script>
    // 据统计这是比自顶向下的要慢一丢丢的，不过说是方便用nlogn的时间对链表进行排序
    function mergeSortBU(arr,n){
        for(let sz=1 ; sz<=n ; sz+=sz){
            for(let i=0 ;i+sz<n ;i+=sz*2){
                //对arr[i...i+sz-1]和arr[i+sz...i+2*sz-1]进行归并
                merge(arr,i,i+sz-1,Math.min(i+sz*2-1,n-1)) ;
            }
        }
    }

    function merge(arr,l,mid,r){// 将arr[l...mid]和arr[mid+1...r]两部分进行归并
        let _arr = [] ;
        for(let i=l ;i<=r ;i++){
            _arr[i-l] = arr[i] ;
        }
        let i = l ,j=mid+1 ;
        for(let k=l ;k<=r ;k++){
            if(i>mid){
                arr[k] = _arr[j-l] ;
                j++ ;
            }else if(j>r){
                arr[k] = _arr[i-l] ;
                i++ ;
            }else if(_arr[i-l]<_arr[j-l]){
                arr[k] = _arr[i-l] ;
                i++ ;
            }else{
                arr[k] = _arr[j-l] ;
                j++ ;
            }
        }
    }

</script>
</html>