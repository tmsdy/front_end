<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<!-- <script src="vue.js"></script> -->

<body>
    <div id="app">
        <div>
            <input v-model="title">
            <button @click="add">添加</button>
        </div>
        <ul>
            <li v-for="item in list">{{item}}</li>
        </ul>
    </div>
</body>
<script>
    // 数据与视图的分离，解耦（开放封闭原则）
    var vm = new Vue({
        el: '#app',
        data: {
            title: "",
            list: ['吃饭', '睡觉']
        },
        methods: {
            add: function () {
                this.list.push(this.title);
                this.title = '';
            }
        }
    })

// 第一步解析模板成render函数
    with (this) { //render函数，返回vnode
         return _c( //vm._c和snabbdom的h函数基本一样
             'div', 
             { attrs: { "id": "app" } }
             , 
             [_c('div',
              [_c('input', 
              { 
                directives: [
                  { name: "model", rawName: "v-model", value: (title), expression: "title" }
                ], 
                domProps: { 
                    "value": (title) 
                }, on: { 
                        "input": function ($event) { 
                            if ($event.target.composing) return; 
                            title = $event.target.value 
                        } 
                    } 
                })
                , 
                _v(" "),
                _c('button', 
                    { on: { "click": add } }, [_v("添加")])] //@click的实现
                    ), 
                    _v(" "),
                 _c('ul', _l((list), function (item) { //v-for的实现 _l这方法根据list返回一个数组
                     return _c('li', [_v(_s(item))]) }
                     ))]
            )
                  
    }

</script>

</html>