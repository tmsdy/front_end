<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>

var obj1 = { a:1, arr: [2,3] };
var obj2 = deepCopy(obj1) ;

obj1.a = 5 ;
obj1.arr[1] = 5 ;

console.log(obj2.a) ; // 1
console.log(obj2.arr[1]) ; // 3

//递归调用浅拷贝实现深拷贝
function isObject(x) { //通用的精准判断是不是object
  return Object.prototype.toString.call(x) === '[object Object]';
}
function deepCopy(obj) {
    // 确认obj是数组还是对象
    if(!obj) return obj
    var newObj = Array.isArray(obj) ? [] : {} ;
    
    if(obj && typeof obj === 'object') {

        for(key in obj){
            if(obj.hasOwnProperty(key)){
                // 如果obj的子元素是对象，递归操作
                if(obj[key] && typeof obj[key] === 'object') {
                    newObj[key] = deepCopy(obj[key]) ;
                }else{
                    // 如果不是，直接赋值
                    newObj[key] = obj[key] ; 
                }
            }
        }
    }
    return newObj ;

}
console.log(deepCopy(null))
// JSON 方法 深拷贝
 JSON.parse(JSON.stringify(obj1)) ;
 //1.会忽略 undefined symbol
// 2.不能序列化函数函数

// jQuery.extend实现深拷贝
var obj3 = {
    a : 3 ,
    arr : [5,6]
}
var obj4 = $.extend(true,{},obj3) ;



</script>
<body>
    
</body>
</html>