!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={14:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="";var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([211,0]),checkDeferredModules()}({0:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _md=__webpack_require__(3);Object.keys(_md).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _md[key]}})});var _url=__webpack_require__(4);Object.keys(_url).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _url[key]}})});var _dom=__webpack_require__(13);Object.keys(_dom).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _dom[key]}})});var _clone=__webpack_require__(5);Object.keys(_clone).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _clone[key]}})});var _common=__webpack_require__(6);Object.keys(_common).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _common[key]}})});var _verify=__webpack_require__(1);Object.keys(_verify).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _verify[key]}})});var _cookies=__webpack_require__(7);Object.keys(_cookies).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _cookies[key]}})});var _transfer=__webpack_require__(2);Object.keys(_transfer).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _transfer[key]}})});var _userAgent=__webpack_require__(8);Object.keys(_userAgent).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _userAgent[key]}})});var _localStorage=__webpack_require__(14);Object.keys(_localStorage).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _localStorage[key]}})});var _formCheck=__webpack_require__(15);Object.keys(_formCheck).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _formCheck[key]}})});var _helpers=__webpack_require__(16);Object.keys(_helpers).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _helpers[key]}})});var _callApp=__webpack_require__(9);Object.keys(_callApp).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _callApp[key]}})})},1:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getObjectValueSafely=exports.isOwnEmptyObj=exports.isEmptyObj=exports.isZepto=exports.isJquery=exports.isElement=exports.isFunction=exports.isObject=exports.isArray=exports.isFinite=exports.isNaN=exports.isNumber=exports.isBoolean=exports.isString=exports.getVarType=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_require__(25),__webpack_require__(27);var _clone=__webpack_require__(5),getVarType=exports.getVarType=function(v){return Number.isNaN(v)?"NaN":"number"!=typeof v||Number.isFinite(v)?null===v?"null":"object"!==(void 0===v?"undefined":_typeof(v))?void 0===v?"undefined":_typeof(v):Object.prototype.toString.call(v).toLowerCase().match(/\[\s*object\s*([^\]]*)\s*\]/)[1]:"Infinity"},isString=exports.isString=function(value){return"string"==typeof value||value instanceof String},isObject=(exports.isBoolean=function(val){return"boolean"===getVarType(val)},exports.isNumber=function(val){return"number"===getVarType(val)},exports.isNaN=function(val){return Number.isNaN(val)},exports.isFinite=function(val){return Number.isFinite(val)},exports.isArray=function(val){return"array"===getVarType(val)},exports.isObject=function(val){return"object"===getVarType(val)});exports.isFunction=function(val){return"function"===getVarType(val)},exports.isElement=function(obj){return!(!obj||"function"!=typeof HTMLElement&&"object"!==("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))||!(obj instanceof HTMLElement))||!(!obj||!obj.nodeType||1!==obj.nodeType)},exports.isJquery=function(obj){return!!(obj&&obj.length&&("function"==typeof jQuery||"object"===("undefined"==typeof jQuery?"undefined":_typeof(jQuery)))&&obj instanceof jQuery)},exports.isZepto=function(o){return!(!o||!o.length||"function"!=typeof Zepto&&"object"!==("undefined"==typeof Zepto?"undefined":_typeof(Zepto))||!Zepto.zepto.isZ(o))},exports.isEmptyObj=function(obj){for(var name in obj)return!1;return!0},exports.isOwnEmptyObj=function(obj){for(var name in obj)if(obj.hasOwnProperty(name))return!1;return!0},exports.getObjectValueSafely=function(obj,keyStr){var defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(isObject(obj)&&isString(keyStr)){var _obj=(0,_clone.cloneByJSON)(obj),_iterator=keyStr.split("."),_isArray=Array.isArray(_iterator),_i=0;for(_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if((_i=_iterator.next()).done)break;_ref=_i.value}var k=_ref;if(!isObject(_obj)||!_obj.hasOwnProperty(k))return defaultValue;_obj=_obj[k]}return _obj}return defaultValue}},10:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iqiyiInitAsync=exports.iqiyiInit=exports.iqiyiMenu=exports.iqiyiShare=exports.isLogin=exports.goToLogin=void 0;var _index=__webpack_require__(0),_Components=__webpack_require__(11),LOGIN_TOAST=null,goToLogin=exports.goToLogin=function(){var before=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,_index.isIqiyi)()?iqiyi.ready(function(flag){before&&before(),flag?iqiyi.loadNativePage({page:"login",returnUrl:location.href,param:{fc:"1",fv:"2"}}):location.href="//m.iqiyi.com/user.html?redirect_url="+encodeURIComponent(location.href)}):setTimeout(function(){before&&before(),location.href="//m.iqiyi.com/user.html?redirect_url="+encodeURIComponent(location.href)},1e3*delay)};exports.isLogin=function(before,after){if(!!(0,_index.getCookie)("P00001"))after&&after();else{if((0,_index.isFunction)(before))if(!1===before())return;(LOGIN_TOAST=new _Components.Toast({type:"loading",content:"正在登录...",time:0})).show(),goToLogin(function(){LOGIN_TOAST&&LOGIN_TOAST.destroy()},.6)}},exports.iqiyiShare=function(options){var operate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"register";(0,_index.isIqiyi)()&&("register"===operate?iqiyi.ready(function(){iqiyi.onShare(options)}):"share"===operate&&iqiyi.share(options))},exports.iqiyiMenu=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},operate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set";(0,_index.isIqiyi)()&&("set"===operate?iqiyi.ready(function(){iqiyi.showMenu(options)}):"hide"===operate&&iqiyi.hideMenu({force:!0}))},exports.iqiyiInit=function(success,fail){iqiyi.ready(function(){iqiyi.init(function(_ref){var result=_ref.result,data=_ref.data;0===result?fail&&fail("获取页面初始化数据失败"):success&&success(data)})})},exports.iqiyiInitAsync=function(){var _ref2$onIqiyi=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onIqiyi,onIqiyi=void 0===_ref2$onIqiyi||_ref2$onIqiyi;return new Promise(function(resolve,reject){if(onIqiyi&&!(0,_index.isIqiyi)())return resolve({});iqiyi.ready(function(){iqiyi.init(function(_ref3){var result=_ref3.result,data=_ref3.data;0===result?reject(new Error("获取页面初始化数据失败")):resolve(data)})})})}},100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(44);var _utils=__webpack_require__(0),_iqiyiPlugin=__webpack_require__(10),_apis=__webpack_require__(47),_options2=__webpack_require__(41);var $,SnatchButton=($=Zepto,function(){function SnatchButton(){var _this2=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SnatchButton),this.register=function(){var _this=_this2;$("#listContainer").on("click",'[data-id="submit"]',function(e){var _this$options=_this.options,LIST_DATA=_this$options.LIST_DATA,USER_INFO=_this$options.USER_INFO,clickback=_this$options.clickback,clickPingback=_this$options.clickPingback,clickToAward=_this$options.clickToAward,$this=$(e.target);if("submit"===$this.attr("data-id")&&!$this.attr("data-forbidden")){var key=(0,_utils.toNumber)($this.closest('[data-id="listItem"]').attr("data-key")),_LIST_DATA$key=LIST_DATA[key],_LIST_DATA$key$_optio=_LIST_DATA$key._options,period=_LIST_DATA$key$_optio.period,type=_LIST_DATA$key$_optio.buttonOptions.type,code=_LIST_DATA$key.code,price=_LIST_DATA$key.price;if(clickPingback(LIST_DATA[key],key),"after"===period&&"win"!==type)return void(location.href=(0,_options2.getDetailUrl)(code));(0,_iqiyiPlugin.isLogin)(null,function(){"onLimit"!==type?"notOrder"!==type?"isOrdered"!==type?"win"!==type?USER_INFO.totalScore<price?$.fn.toast({content:"还差"+(price-USER_INFO.totalScore)+"积分，快去赚积分吧"}):($this.attr("data-forbidden","true"),(0,_apis.participate)(code).then(function(data){var totalParticipates=data.totalParticipates,userParticipates=data.userParticipates,totalScore=data.totalScore;$.fn.toast({content:"参与成功，在“我的夺宝记录”查看"}),_this.updateList({current_num:totalParticipates,current_user_num:userParticipates},key),_this.updateUserSocre(_extends({},USER_INFO,{totalScore:totalScore})),_this.updateTotalNum(),clickback(_extends({},data,{totalUserNum:_this.options.totalUserNum}),key,$this)}).catch(function(err){var content=err&&err.code?err.message:"参与失败，请稍后重试";$.fn.toast({content:content})}).finally(function(){$this.removeAttr("data-forbidden")})):clickToAward(LIST_DATA[key],key):(0,_apis.askUnsubscribeSnatch)([code]).then(function(_ref2){_ref2.result&&($.fn.toast({content:"已取消夺宝提醒",isMutex:!0}),_this.updateOrderedMaps(code,!1).updateList({},key),_this.options.subcribeBack("unsubcribe",$this))}).catch(function(){$.fn.toast({content:"网络异常，稍后再试",isMutex:!0})}):(0,_apis.askSubscribeSnatch)([code]).then(function(_ref){_ref.result&&($.fn.toast({content:"预约成功，请注意打开APP提示",isMutex:!0}),_this.updateOrderedMaps(code,!0).updateList({},key),_this.options.subcribeBack("subcribe",$this))}).catch(function(){$.fn.toast({content:"网络异常，稍后再试",isMutex:!0})}):$.fn.toast({content:"给别人留点夺宝机会吧"})})}})},this.options=_extends({USER_INFO:{totalScore:0},LIST_DATA:[],totalUserNum:null,orderedMaps:{},clickback:_utils.NOOP,clickPingback:_utils.NOOP,subcribeBack:_utils.NOOP,clickToAward:_utils.NOOP},options)}return _createClass(SnatchButton,[{key:"getList",value:function(){return this.options.LIST_DATA}},{key:"addList",value:function(list){return this.options.LIST_DATA=this.options.LIST_DATA.concat(list),this}},{key:"resetList",value:function(){return this.options.LIST_DATA=[],this}},{key:"updateOrderedMaps",value:function(code,value){return this.options.orderedMaps=_extends({},this.options.orderedMaps,function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},code,value)),this}},{key:"updateList",value:function(item,key){var _options=this.options,LIST_DATA=_options.LIST_DATA,orderedMaps=_options.orderedMaps,oldItem=LIST_DATA[key],newItem=_extends({},oldItem,item);return newItem._options=_extends({},oldItem._options,(0,_options2.getProdOptions)(newItem,{isOrdered:!!orderedMaps[oldItem.code]})),this.options.LIST_DATA[key]=newItem,this}},{key:"updateUserSocre",value:function(USER_INFO){return this.options.USER_INFO=USER_INFO,this}},{key:"updateTotalNum",value:function(){var num=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,totalUserNum=this.options.totalUserNum;return null!==num?this.options.totalUserNum=num:null!==totalUserNum&&(this.options.totalUserNum=totalUserNum+1),this}},{key:"updateOrderedState",value:function(newOrderMaps){var orderedMaps=this.options.orderedMaps;this.options.orderedMaps=_extends({},orderedMaps,newOrderMaps)}}]),SnatchButton}());exports.default=SnatchButton},11:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LabelShow=exports.SwitchMenu=exports.Progress=exports.Toast=exports.Dialog=void 0;var _index2=_interopRequireDefault(__webpack_require__(19)),_index4=_interopRequireDefault(__webpack_require__(17)),_index6=_interopRequireDefault(__webpack_require__(21)),_index8=_interopRequireDefault(__webpack_require__(22)),_index10=_interopRequireDefault(__webpack_require__(23));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Dialog=_index2.default,exports.Toast=_index4.default,exports.Progress=_index6.default,exports.SwitchMenu=_index8.default,exports.LabelShow=_index10.default},13:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.setDocumentTitle=function(title){document.title=title},exports.createScript=function(id,url){url+="&t="+Math.floor(1e3*Math.random()+1);var oScript=document.getElementById(id),head=document.getElementsByTagName("head").item(0);return oScript&&head.removeChild(oScript),(oScript=document.createElement("script")).setAttribute("src",url),oScript.setAttribute("id",id),oScript.setAttribute("type","text/javascript"),oScript.setAttribute("language","javascript"),head.appendChild(oScript),oScript},exports.throttle=function(fn,threshhold,scope){var last,deferTimer;return threshhold||(threshhold=250),function(){var context=scope||this,now=Date.now(),args=arguments;last&&now<last+threshhold?(clearTimeout(deferTimer),deferTimer=setTimeout(function(){last=now,fn.apply(context,args)},threshhold)):(last=now,fn.apply(context,args))}}},14:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.setLocalStorage=function(key,value){localStorage.setItem(key,JSON.stringify(value))},exports.getLocalStorage=function(key){var data=localStorage.getItem(key);return data?JSON.parse(data):null},exports.removeLocalStorage=function(key){return localStorage.removeItem(key)}},15:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFormData=function($form){var data={};return $form.serializeArray().forEach(function(i){data[i.name]=i.value}),data},exports.isMobile=function(str){return/^1[345789]\d{9}$/.test(str)}},16:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NOOP=exports.fixCancelAnimationFrame=exports.fixRequestAnimationFrame=exports.getUserId=exports.getAuthCookies=void 0,exports.filterPic=filterPic,exports.filterExts=function(){for(var lists=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],name=arguments[1],extMap={},_iterator2=lists,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref5;if(_isArray2){if(_i2>=_iterator2.length)break;_ref5=_iterator2[_i2++]}else{if((_i2=_iterator2.next()).done)break;_ref5=_i2.value}var _ref6=_ref5,_name=_ref6.name,value=_ref6.value;extMap[_name]=value}return void 0===name?extMap:extMap[name]?extMap[name]:""},exports.getProductImage=function(picList){var listMap=filterPic(picList);return listMap.movepic||listMap.smallpic||listMap.defaultpic},exports.replaceWithLink=function(replacer,_ref7){var replace=_ref7.replace,replaceValue='<a class="color-primary" href="'+_ref7.link+'">'+replace+"</a>";return(0,_transfer.toString)(replacer).replace(new RegExp(replace,"g"),replaceValue)},exports.replaceWithClick=replaceWithClick,exports.replaceContent=function(replacer){var exts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];replacer=(0,_transfer.toString)(replacer);for(var contentId=(0,_common.generateComponentId)("replaceContent-id-",8),key=0;key<exts.length;key++){var name=exts[key].name;name.match(/^replace_/g)&&(replacer=replaceWithClick(replacer,name.slice(8),{key:key,contentId:contentId}))}return $(document).on("click",'[data-id="'+contentId+'"]',function(e){var $this=$(e.target);if($this.attr("data-id")===contentId){var k=(0,_transfer.toNumber)($this.attr("data-key")),_exts$k=exts[k],value=_exts$k.value,_exts$k$onClick=_exts$k.onClick,onClick=void 0===_exts$k$onClick?null:_exts$k$onClick;(0,_verify.isFunction)(onClick)&&onClick(),(0,_url.isURL)(value)?location.href=value:-1!==_callApp.ROUTER_MAP.findIndex(function(i){return i.name===value})&&(0,_callApp.goToApp)({value:value})}}),replacer},exports.goToUse=function(){var _ref9$touse=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).touse,touse=void 0===_ref9$touse?null:_ref9$touse;if(!touse)return;(0,_url.isURL)(touse)?location.href=touse:(0,_callApp.goToApp)({type:"pageName",value:touse})},exports.getEmptyPlugin=function(){var stateId=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"emptyState",textId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyText";return{stateId:stateId,textId:textId,updateEmpty:function(type,text){var $state=$("#"+stateId);$("#"+textId).text(text),"empty"===type?$state.removeClass("image-network").attr("data-type","empty"):$state.addClass("image-network").attr("data-type","network")},addReloadListener:function(parentId){$("#"+parentId).click(function(){var $child=$(this).find("#"+stateId);$child.length&&"network"===$child.attr("data-type")&&(location.href=location.href)})}}},__webpack_require__(12);var _common=__webpack_require__(6),_cookies=__webpack_require__(7),_transfer=__webpack_require__(2),_url=__webpack_require__(4),_verify=__webpack_require__(1),_callApp=__webpack_require__(9);exports.getAuthCookies=function(){return(0,_cookies.getCookie)("P00001")?(0,_cookies.getCookie)("P00001"):null},exports.getUserId=function(){return(0,_cookies.getCookie)("P00003")?parseFloat((0,_cookies.getCookie)("P00003")):null};function filterPic(){var lists=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],photoKey=arguments[1],picMap={defaultpic:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://pic2.iqiyipic.com/common/lego/20180619/2a669dbc741a48629ea118b247fbf30b.png"},_iterator=lists,_isArray=Array.isArray(_iterator),_i=0;for(_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref2;if(_isArray){if(_i>=_iterator.length)break;_ref2=_iterator[_i++]}else{if((_i=_iterator.next()).done)break;_ref2=_i.value}var _ref3=_ref2,_photoKey=_ref3.photoKey,url=_ref3.url;picMap[_photoKey]=url}return void 0===photoKey?picMap:picMap[photoKey]?picMap[photoKey]:picMap.defaultpic}function replaceWithClick(replacer,replace,_ref8){var key=_ref8.key,replaceValue='<span class="color-primary cp" data-id="'+_ref8.contentId+'" data-key="'+key+'">'+replace+"</span>";return(0,_transfer.toString)(replacer).replace(new RegExp(replace,"g"),replaceValue)}exports.fixRequestAnimationFrame=function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)})},exports.fixCancelAnimationFrame=function(){window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(requestID){window.clearTimeout(requestID)})},exports.NOOP=function(){}},17:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(0);var Toast=function($){var obj,key,value,Toast=function(){function Toast(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Toast),this._pageLoading={wrapper:"body",height:"100%",iconName:"loading-small",content:"内容即将呈现…",maskColor:"#ffffff"},this.statusMap={loading:"加载中...",success:"加载完成",fail:"加载失败"},this._id_=(0,_utils.generateComponentId)(null,8),this.options=_extends({id:"",type:"text",content:"",time:3,pageLoading:!1,isMutex:!1},options)}return _createClass(Toast,null,[{key:"getName",value:function(){return"toast"}},{key:"getVersion",value:function(){return"1.0.0"}}]),_createClass(Toast,[{key:"init",value:function(){this._render()}},{key:"getComponent",value:function(){return $('*[data-toast-id="'+this._id_+'"]')}},{key:"getComponentChild",value:function(selector){return $('*[data-toast-id="'+this._id_+'"] *[data-toast-name="'+selector+'"]')}},{key:"_pageLoadingTemplate",value:function(_ref){var iconName=_ref.iconName,content=_ref.content,maskColor=_ref.maskColor,height=_ref.height;return'<div data-toast-id="'+this._id_+'" class="toast-page-loading" style="height: '+height+'">\n            <div data-toast-name="box" class="toast-box">\n                <i class="'+iconName+' toast-icon"></i>\n                <span class="toast-content">'+content+'</span>\n            </div>\n            <div class="toast-mask" style="background-color: '+maskColor+'"></div>\n        </div>'}},{key:"_toastTemplate",value:function(_ref2){var idAtrr=_ref2.idAtrr,stateClass=_ref2.stateClass,state=_ref2.state,content=_ref2.content;return'<div data-toast-id="'+this._id_+'"'+idAtrr+' class="toast-wrapper">\n            <div data-toast-name="box" class="toast-box'+stateClass+'">\n                '+state+'\n                <span class="toast-content">'+content+"</span>\n            </div>\n        </div>"}},{key:"_render",value:function(){var _this=this,_options=this.options,id=_options.id,type=_options.type,time=_options.time,content=_options.content,pageLoading=_options.pageLoading,isMutex=_options.isMutex,state="",stateClass="",toaster="",idAtrr=id?' id="'+id+'"':"";if(pageLoading){pageLoading=!0===pageLoading?this._pageLoading:_extends({},this._pageLoading,pageLoading);var $wrapper=$(pageLoading.wrapper);toaster=this._pageLoadingTemplate(pageLoading),$wrapper.css("position","relative").append(toaster)}else{"text"!==type&&(state='<i class="toast-icon-'+type+'"></i>',stateClass=" toast-state","loading"===type&&(stateClass+=" loading-wrapper"),content||(content=this.statusMap[type])),toaster=this._toastTemplate({idAtrr:idAtrr,stateClass:stateClass,state:state,content:content});var component=this.getComponent();component&&component.length&&component.remove(),isMutex&&$("*[data-toast-id]").remove(),$("body").append(toaster)}this.getComponent().css("display","block"),setTimeout(function(){_this.getComponentChild("box").css({opacity:1})},0),0!==time&&setTimeout(function(){_this.destroy()},1e3*time)}},{key:"show",value:function(){var _options2=this.options,content=_options2.content,pageLoading=_options2.pageLoading,beforeOpen=_options2.beforeOpen;if((0,_utils.isFunction)(beforeOpen)&&!1===beforeOpen(content))return;var component=this.getComponent();if(component&&component.length){if(pageLoading){var wrapper=pageLoading.wrapper||this._pageLoading.wrapper;$(wrapper).css("position","relative")}component.css("display","block")}else this._render();return this}},{key:"hide",value:function(){var pageLoading=this.options.pageLoading;if(this.getComponent().css("display","none"),pageLoading){var wrapper=pageLoading.wrapper||this._pageLoading.wrapper;$(wrapper).css("position","")}return(0,_utils.isFunction)(this.options.afterClose)&&this.options.afterClose(this.options.content),this}},{key:"destroy",value:function(){var pageLoading=this.options.pageLoading;if(this.getComponent().remove(),pageLoading){var wrapper=pageLoading.wrapper||this._pageLoading.wrapper;$(wrapper).css("position","")}(0,_utils.isFunction)(this.options.afterClose)&&this.options.afterClose(this.options.content)}}]),Toast}();return $.extend($.fn,(value=function(options){return new Toast(options).show()},(key="toast")in(obj={})?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj)),$.fn.toast.Constructor=Toast,Toast}(Zepto);exports.default=Toast},19:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(0);var $,Dialog=($=Zepto,function(){function Dialog(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},confirm=arguments[1],cancel=arguments[2];!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Dialog);var name=options.name?options.name:"";this._id_=(0,_utils.generateComponentId)(name,8),this.data=_extends({},options.data),delete options.data,this.options=_extends({title:"标题",content:"内容"},options),this.confirm=confirm,this.cancel=cancel,this.init()}return _createClass(Dialog,[{key:"init",value:function(){return this._initDOM(),this}},{key:"_initDOM",value:function(){var _this=this,defaultConfirmText="确定",idAttr=this.options.hasOwnProperty("id")?" id="+this.options.id:"",className=this.options.hasOwnProperty("className")?"dialog-component "+this.options.className:"dialog-component",closeClass=this.options.hasOwnProperty("closeClass")?this.options.closeClass:"dialog-close",innerClass=this.options.hasOwnProperty("innerClass")?this.options.innerClass:"",modalClass=this.options.hasOwnProperty("modalClass")?this.options.modalClass:"",styleObj=this.options.hasOwnProperty("styleObj")?" style="+this.options.styleObj:"";if(this.options.hasOwnProperty("defaultBtnTextObj")){var defaultBtnTextObj=this.options.defaultBtnTextObj;defaultBtnTextObj.confirm&&(defaultConfirmText=defaultBtnTextObj.confirm),defaultBtnTextObj.cancel&&(defaultConfirmText=defaultBtnTextObj.cancel)}var tcHeader=" tc",tcFooter=" tc";if(this.options.hasOwnProperty("isCenterObj")){var isCenterObj=this.options.isCenterObj;!1===isCenterObj.header&&(tcHeader=""),!1===isCenterObj.footer&&(tcFooter="")}var dialogNode='<div data-dialog-id="'+this._id_+'" class="'+className+'"'+idAttr+styleObj+'>\n          <div data-dialog-name="modal" class="dialog-modal '+modalClass+'">\n            <div class="dialog-modal-inner '+innerClass+'">\n              <i data-dialog-name="dialog-close-icon" class="'+closeClass+'"></i>\n              <div data-dialog-name="modal-header" class="modal-header'+tcHeader+'"></div>\n              <div class="modal-body">\n                <div data-dialog-name="body-inner" class="body-inner"></div>\n              </div>\n              <div data-dialog-name="modal-footer" class="modal-footer'+tcHeader+'">\n                <div data-dialog-name="button-wrap" class="button-wrap'+tcFooter+'">\n                  <span data-dialog-name="button-confirm" class="btn-primary">'+defaultConfirmText+'</span>\n                  <span data-dialog-name="button-cancel" class="btn-default">取消</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div data-dialog-name="mask" class="dialog-mask"></div>\n        </div>';$("body").append(dialogNode);var title=this._getHTML(this.options.title);if(this.getComponentChild("modal-header").html(title),this._setContent(this.options.content),!0===this.options.removeHeader&&this._remmoveDOM("modal-header"),this.options.hasOwnProperty("removeDefaultOptions"))if("all"===this.options.removeDefaultOptions)this._remmoveDOM(["dialog-close-icon","button-confirm","button-cancel"]);else if((0,_utils.isArray)(this.options.removeDefaultOptions)){var keyMap={close:"dialog-close-icon",confirm:"button-confirm",cancel:"button-cancel"};this.options.removeDefaultOptions.forEach(function(k){_this._remmoveDOM(keyMap[k])})}return(0,_utils.isArray)(this.options.buttons)&&this._addButtons(this.options.buttons),this.options.buttons||((0,_utils.isFunction)(this.confirm)&&this.getComponentChild("button-confirm").on("click",function(){!1!==(!(0,_utils.isFunction)(_this.options.beforeConfirm)||_this.options.beforeConfirm())&&_this.confirm()}),(0,_utils.isFunction)(this.cancel)&&this.getComponentChild("button-cancel").click(function(){!1!==(!(0,_utils.isFunction)(_this.options.beforeCancel)||_this.options.beforeCancel())&&_this.cancel()})),!1!==this.options.offDefaultCancel&&(this.getComponentChild("button-cancel").on("click",function(){_this.close()}),this.getComponentChild("dialog-close-icon").on("click",function(){_this.close()})),!1!==this.options.offMaskClick&&this.getComponentChild("mask").on("click",function(){_this.close()}),this}},{key:"_getHTML",value:function(s){return(0,_utils.isZepto)(s)?s:(0,_utils.isString)(s)&&/^[\.\#].*$/.test(s)?$(s):s}},{key:"_remmoveDOM",value:function(name){var _this2=this;(0,_utils.isArray)(name)?name.forEach(function(i){return _this2.getComponentChild(i).remove()}):name&&this.getComponentChild(name).remove()}},{key:"_setContent",value:function(content){var $content=this._getHTML(content);this.getComponentChild("body-inner").html($content).children().css("display","block")}},{key:"_buttonRender",value:function(item,key){var _this3=this,$button=this.getComponentChild("button",key);item.text&&$button.text(item.text),item.id&&$button.attr("id",item.id),item.className&&$button.removeAttr("class").addClass(item.className),(0,_utils.isObject)(item.attrs)&&$button.attr(item.attrs),!1===item.clickable?($button.addClass("disabled"),$button.off("click")):($button.removeClass("disabled"),$button.on("click",function(){(0,_utils.isFunction)(item.onClick)&&item.onClick(item,key,$button,_this3)}))}},{key:"_addButtons",value:function(buttons){var buttonWrapper=this.getComponentChild("button-wrap"),footer=this.getComponentChild("modal-footer"),style=buttons.length?"block":"none";footer.css("display",style),buttonWrapper.empty();for(var k=0;k<buttons.length;k++)buttonWrapper.append('<span class="btn-primary" data-dialog-name="button" data-dialog-key="'+k+'"></span>'),this._buttonRender(buttons[k],k)}},{key:"_show",value:function(){var $component=this.getComponent();$component.css("display","block"),setTimeout(function(){$component.addClass("fade")},0)}},{key:"_hide",value:function($component,cb){$component.removeClass("fade"),setTimeout(function(){$component.css("display","none"),cb&&cb()},200)}},{key:"getComponent",value:function(){return $('*[data-dialog-id="'+this._id_+'"]')}},{key:"getComponentChild",value:function(selector){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,childSelector='*[data-dialog-id="'+this._id_+'"] *[data-dialog-name="'+selector+'"]';return(0,_utils.isNumber)(key)&&(childSelector+='[data-dialog-key="'+key+'"]'),$(childSelector)}},{key:"open",value:function(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",afterOpen=arguments[1],_options=this.options,beforeOpen=_options.beforeOpen,optionsAfterOpen=_options.afterOpen;if(!1!==(!(0,_utils.isFunction)(beforeOpen)||beforeOpen()))return"prompt"===type&&this.getComponentChild("modal-footer").remove(),this._show(),(0,_utils.isFunction)(afterOpen)?afterOpen():(0,_utils.isFunction)(optionsAfterOpen)&&optionsAfterOpen(),this}},{key:"openPrompt",value:function(){return this.open("prompt"),this}},{key:"close",value:function(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",afterClose=arguments[1],$component=this.getComponent(),_options2=this.options,beforeClose=_options2.beforeClose,optionsAfterClose=_options2.afterClose;if(!1!==(!(0,_utils.isFunction)(beforeClose)||beforeClose()))return"default"===type?this._hide($component):"destroy"===type&&this._hide($component,function(){$component.remove()}),(0,_utils.isFunction)(afterClose)?setTimeout(function(){afterClose()},200):(0,_utils.isFunction)(optionsAfterClose)&&setTimeout(function(){optionsAfterClose()},200),this}},{key:"destroy",value:function(){return this.close("destroy"),this}},{key:"prompt",value:function(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",_this4=this,text=arguments[1],callback=arguments[2];this.getComponentChild("body-inner").children().css({display:"none"}),this.getComponentChild("body-inner").append('\n        <div data-dialog-name="dialog-prompt" class="dialog-prompt">\n          <p class="prompt-text"><i class="status-icon opt-'+type+' mr10"></i>'+text+"</p>\n        </div>\n      "),this.getComponentChild("modal-footer").length&&this.handleFooter("hide"),setTimeout(function(){_this4.close("default",function(){_this4.getComponentChild("dialog-prompt").remove(),_this4.getComponentChild("body-inner").children().css({display:"block"}),_this4.getComponentChild("modal-footer").length&&_this4.handleFooter("show"),(0,_utils.isFunction)(callback)&&callback()})},2e3)}},{key:"success",value:function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"操作成功!",callback=arguments[1];return this.prompt("success",text,callback),this}},{key:"fail",value:function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"操作失败!",callback=arguments[1];return this.prompt("fail",text,callback),this}},{key:"handleFooter",value:function(){var status="show"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hide")?"block":"none";this.getComponentChild("modal-footer").css("display",status)}},{key:"getData",value:function(){return this.data}},{key:"updateData",value:function(data){return this.data=_extends({},this.data,data),this}},{key:"updateOptions",value:function(_ref){var buttons=_ref.buttons,content=_ref.content;return(0,_utils.isArray)(buttons)&&this._addButtons(buttons),content&&this._setContent(content),this}},{key:"bindOpen",value:function(){var _this5=this,_ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$selector=_ref2.selector,selector=void 0===_ref2$selector?null:_ref2$selector,_ref2$type=_ref2.type,type=void 0===_ref2$type?"default":_ref2$type;if(selector)return this._getHTML(selector).on("click",function(){_this5.open(type)}),this}}],[{key:"getName",value:function(){return"Dialog"}},{key:"getVersion",value:function(){return"1.0.0-beta"}}]),Dialog}());exports.default=Dialog},2:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stringParams=exports.paramsSerializer=exports.parseQueryString=exports.toNumber=exports.toString=void 0;var _verify=__webpack_require__(1),toString=exports.toString=function(val){return null===val||void 0===val?"":(0,_verify.isObject)(val)?JSON.stringify(val):String(val)},paramsSerializer=(exports.toNumber=function(v){var n=parseFloat(v);return(0,_verify.isNaN)(n)?v:n},exports.parseQueryString=function(){var str=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,key=arguments[1],urlArray=[],o={};(str=decodeURIComponent(toString(str)))&&(urlArray=/^[\?|\#]/.test(str.slice(0,1))?str.slice(1).split("&"):str.split("&"));for(var i=0;i<urlArray.length;i++){var array=urlArray[i].split("=");o[array[0]]=decodeURIComponent(array[1])}return key?o.hasOwnProperty(key)?o[key]:null:o},exports.paramsSerializer=function(params){return(0,_verify.isObject)(params)&&Object.keys(params).forEach(function(key){var value=params[key];(0,_verify.isArray)(value)&&(params[key]=value.join()),null!==value&&""!==value&&void 0!==value||delete params[key]}),params});exports.stringParams=function(params){var serialize=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],encodeNum=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return serialize&&(params=paramsSerializer(params)),Object.keys(params).map(function(k){return k+"="+function(v,n){for(var s=v,i=0;i<n;i++)s=encodeURIComponent(s);return s}(params[k],encodeNum)}).join("&")||""}},20:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateCommonParams=exports.signPostGenerator=exports.signGetGenerator=exports.responseGenerator=exports.paramsGenerator=exports._buildParamsGenerator=exports.post=exports.get=exports.request=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(33);var _utils=__webpack_require__(0),_iqiyiPlugin=__webpack_require__(10),request=exports.request=function(_ref,excludeBasepath){var url=_ref.url,_ref$type=_ref.type,type=void 0===_ref$type?"GET":_ref$type,_ref$data=_ref.data,data=void 0===_ref$data?{}:_ref$data,_ref$params=_ref.params,params=void 0===_ref$params?{}:_ref$params,_ref$dataType=_ref.dataType,dataType=void 0===_ref$dataType?"json":_ref$dataType,_ref$headers=_ref.headers,headers=void 0===_ref$headers?{"Content-Type":"application/json","Cache-Control":"no-cache"}:_ref$headers,_ref$cache=_ref.cache,cache=void 0===_ref$cache||_ref$cache,_ref$timeout=_ref.timeout,timeout=void 0===_ref$timeout?6e3:_ref$timeout;return url=function(url,params){return url+((0,_utils.isOwnEmptyObj)(params)?"":"?"+(0,_utils.stringParams)(params))}(url=function(url){var excludeBasepath=arguments.length>1&&void 0!==arguments[1]&&arguments[1],basepath=window.basePath||"//community.iqiyi.com/openApi/";return excludeBasepath?url:""+basepath+url}(url,excludeBasepath),params),data=(0,_utils.paramsSerializer)(data),new Promise(function(resolve,reject){$.ajax({url:url,type:type,data:data,dataType:dataType,headers:headers,cache:cache,timeout:timeout,success:function(res){resolve(res)},error:function(xhr,errorType,_error){reject({xhr:xhr,errorType:errorType,error:_error})}})})},_request=(exports.get=function(url){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request({type:"GET",url:url,params:params})},exports.post=function(url){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return request({type:"POST",url:url,data:data,params:params})},function(options){var response=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(resolve,reject){return request(options).then(function(res){return res&&"A00000"===res.code?resolve(res.data):(response&&(res=response(res)),reject(res))}).catch(function(_ref2){var xhr=_ref2.xhr,errorType=_ref2.errorType,error=_ref2.error;return response&&(xhr=response(xhr,errorType,error)),reject(xhr)})})}),_buildParamsGenerator=exports._buildParamsGenerator=function(getReqParamsByKeys,keys){return function(params){var _params=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?_extends({},getReqParamsByKeys(keys),params):_extends({},params),query=(0,_utils.paramsSerializer)(_params);return _extends({},query,{sign:(0,_utils.createSign)(query)})}};exports.paramsGenerator=function(){var REQUEST_PARAMS=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var keys=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,params={};return(0,_utils.isArray)(keys)?(keys.forEach(function(key){REQUEST_PARAMS.hasOwnProperty(key)&&(params[key]=REQUEST_PARAMS[key])}),params):REQUEST_PARAMS}},exports.responseGenerator=function(resMaps){resMaps=_extends({defaultText:"网络错误，请点击重试",networkError:"网络未连接，请检查网络设置",timeout:"网络错误，请点击重试"},resMaps);var response=function(res){var code=res.code,result=resMaps[code]||resMaps.defaultText;return(0,_utils.isArray)(result)?{code:code,key:result[0],message:result[1]}:{code:code,message:result}};return function(res,type){return res&&res.code?response(res):"timeout"===type?response({code:"timeout"}):"abort"===type?response({code:"networkError"}):-1!==["parsererror","error"].indexOf(type)?response({code:"defaultText"}):res}},exports.signGetGenerator=function(getReqParamsByKeys,response){return function(url){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},keys=arguments[2],extra=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],reqParams=_buildParamsGenerator(getReqParamsByKeys,keys);return _request({url:url,type:"GET",params:reqParams(params,extra)},response)}},exports.signPostGenerator=function(getReqParamsByKeys,response){return function(url){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},keys=arguments[3],extra=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],reqParams=_buildParamsGenerator(getReqParamsByKeys,keys);return _request({url:url,type:"POST",data:JSON.stringify(data),params:reqParams(params,extra)},response)}},exports.generateCommonParams=function(){var _ref3$isAsync=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isAsync,isAsync=void 0===_ref3$isAsync||_ref3$isAsync;return new Promise(function(resolve,reject){var authCookie=(0,_utils.getAuthCookies)();if(!isAsync||!(0,_utils.isIqiyi)())return resolve({authCookie:authCookie,userId:(0,_utils.getUserId)(),appKey:"basic_h5",global:{}});(0,_iqiyiPlugin.iqiyiInit)(function(data){var _authCookie=data.P00001,_userId=data.P00003;resolve({global:data,authCookie:_authCookie&&"0"!==_authCookie?_authCookie:"",userId:_userId&&"0"!==_userId?_userId:"",appKey:"basic_h5"})},function(err){reject(err)})})}},21:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(0);var $,Progress=($=Zepto,function(){function Progress(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Progress),this._id_=(0,_utils.generateComponentId)(null,8),this.options=_extends({container:"body",hasCount:0,total:0,tips:"",showContent:!1,position:"top",showCount:!0,description:"",style:"primary"},options),this.init()}return _createClass(Progress,null,[{key:"getName",value:function(){return"progress"}},{key:"getVersion",value:function(){return"1.0.0"}}]),_createClass(Progress,[{key:"_getComponent",value:function(){return $('*[data-progress-id="'+this._id_+'"]')}},{key:"_getComponentChild",value:function(selector){return $('*[data-progress-id="'+this._id_+'"] [data-progress-name="'+selector+'"]')}},{key:"_getContainer",value:function(){var container=this.options.container;return(0,_utils.isZepto)(container)?container:$(container)}},{key:"_render",value:function(){var _this=this,$container=this._getContainer(),_getContent2=this._getContent(),contentTop=_getContent2.contentTop,contentBottom=_getContent2.contentBottom,style="default"===this.options.style?" default-state":"",progresser='<div data-progress-id="'+this._id_+'" class="progress-wrapper">\n          '+contentTop+'\n          <div data-progress-name="proTotal" class="progress-total">\n            <div data-progress-name="proHas" class="progress-has'+style+'"></div>\n          </div>\n          '+contentBottom+"\n        </div>";$container&&$container.append(progresser),setTimeout(function(){_this._setProgress()},300)}},{key:"_getContent",value:function(){var _options=this.options,hasCount=_options.hasCount,total=_options.total,tips=_options.tips,position=_options.position,showContent=_options.showContent,showCount=_options.showCount,description=_options.description;if(!showContent)return{contentTop:"",contentBottom:""};var countTemp="";showCount?countTemp='<span data-progress-name="hasCount" class="has-count">'+hasCount+'</span>/<span data-progress-name="totalCount">'+total+"次</span>":content&&(countTemp=description);var content='\n         <div data-progress-name="info" class="progress-info">\n            <div class="progress-count">'+countTemp+'</div>\n            <div data-progress-name="tips" class="progress-tips">'+tips+"</div>\n         </div>\n      ";return{contentTop:"top"===position?content:"",contentBottom:"bottom"===position?content:""}}},{key:"_setProgress",value:function(){var hasCount=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.hasCount,total=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.total,percentage=100*hasCount/total;this._getComponentChild("proHas").css("width",percentage+"%"),this._getComponentChild("hasCount").text(hasCount),this._getComponentChild("totalCount").text(total+"次")}},{key:"init",value:function(){this._render()}},{key:"updateOptions",value:function(options){var _options$hasCount=options.hasCount,hasCount=void 0===_options$hasCount?this.options.hasCount:_options$hasCount,_options$total=options.total,total=void 0===_options$total?this.options.total:_options$total;this.options=_extends({},this.options,{hasCount:hasCount,total:total}),options.hasOwnProperty("tips")&&(this._getComponentChild("tips").html(options.tips),this.options.tips=options.tips),(options.hasOwnProperty("hasCount")||options.hasOwnProperty("total"))&&this._setProgress()}},{key:"destroy",value:function(){this._getComponent().remove()}}]),Progress}());exports.default=Progress},211:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();__webpack_require__(44);var _newMessage2=_interopRequireDefault(__webpack_require__(212)),_utils=__webpack_require__(0),_Components=__webpack_require__(11),_iqiyiPlugin=__webpack_require__(10),_apis=__webpack_require__(47),_assets=__webpack_require__(40),_snatchButton2=_interopRequireDefault(__webpack_require__(100));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(213);var PROGRESS_MAPS={},MY_LIST_TAB=0,$CURRENT_CLICKED_BUTTON=null,snatchCounter=0,snatchButton=new _snatchButton2.default({isOrdered:!1,totalUserNum:0,clickback:function(_ref,key,$this){var score,totalScore=_ref.totalScore,totalUserNum=_ref.totalUserNum;!function($this){$CURRENT_CLICKED_BUTTON=$this,(0,_iqiyiPlugin.iqiyiInitAsync)().then(function(_ref6){var _ref6$deviceId=_ref6.deviceId,deviceId=void 0===_ref6$deviceId?"":_ref6$deviceId;if(deviceId){var HAS_PARTICIPATED_SNATCH="HAS_PARTICIPATED_SNATCH_"+deviceId,hasParticapatedSnatch=(0,_utils.getLocalStorage)(HAS_PARTICIPATED_SNATCH)||!1;hasParticapatedSnatch||((0,_assets.showPingback)({block:"120003"}),(0,_utils.setLocalStorage)(HAS_PARTICIPATED_SNATCH,!0),firstTimeSnatchDialog.open())}}).catch(function(err){})}($this),score=totalScore,$("#userTotalScore").text(score),updateTotalUserCount(totalUserNum),function(key,$this){var _snatchButton$getList=snatchButton.getList()[key]._options,permitStatus=_snatchButton$getList.permitStatus,totalNum=_snatchButton$getList.totalNum,currentNum=_snatchButton$getList.currentNum,currentUserNum=_snatchButton$getList.currentUserNum;currentNum===totalNum&&$this.addClass("disabled");permitStatus&&$this.addClass("disabled").html("已达上限");PROGRESS_MAPS[key].updateOptions({hasCount:currentNum}),$this.closest("[data-id=listItem]").find("[data-id=hasParticipated]").text(currentUserNum)}(key,$this)},clickPingback:function(item,key){var type=item._options.buttonOptions.type;"participate"===type?(0,_assets.clickPingback)({rseat:"dbgood"+(key+1)}):"detail"===type?(0,_assets.clickPingback)({rseat:"dbgoodex_"+(key-snatchCounter+1)}):"notOrder"===type?(0,_assets.clickPingback)({rseat:"duobao_open"}):"isOrdered"===type&&(0,_assets.clickPingback)({rseat:"duobao_close"})},subcribeBack:function(type,$this){"subcribe"===type?$this.addClass("disabled").html("已预约"):$this.removeClass("disabled").html("开始提醒")}});(0,_assets.pvPingback)(),(0,_iqiyiPlugin.iqiyiMenu)(null,"hide");var newMessage=new _newMessage2.default("#successFloating"),pageLoading=new _Components.Toast({pageLoading:{wrapper:"#snatchBody",time:0}});pageLoading.show();var _getEmptyPlugin=(0,_utils.getEmptyPlugin)(),emptyStateId=_getEmptyPlugin.stateId,emptyTextId=_getEmptyPlugin.textId,updateEmpty=_getEmptyPlugin.updateEmpty;(0,_getEmptyPlugin.addReloadListener)("snatchBody"),(0,_iqiyiPlugin.isLogin)(function(){return $("#snatchTop").css({"margin-bottom":0}),$("#snatchRecord").remove(),!1},function(){var view;view={view:!1}.view,(0,_apis.getNewNotice)({view:view}).then(function(data){data&&(newMessage.init(),MY_LIST_TAB=1)}).catch(function(err){})}),(0,_apis.getUserInfo)().then(function(_ref2){var data=_slicedToArray(_ref2,1)[0];snatchButton.updateUserSocre(data),$("#userTotalScore").text(data.totalScore)}).catch(_utils.NOOP);var ruleDialog=new _Components.Dialog({id:"ruleDialog",content:"#ruleDialogContent",removeHeader:!0,removeDefaultOptions:"all",buttons:[{className:"btn-default list-use rule-dialog-btn",text:"我知道了",onClick:function(){ruleDialog.close()}}]}),firstTimeSnatchDialog=new _Components.Dialog({id:"firstTimeSnatchDialog",content:"#firstTimeSnatchDialogContent",removeHeader:!0,buttons:[{className:"btn-orange gradient first-snatch",text:"再来一次",onClick:function(){$CURRENT_CLICKED_BUTTON&&((0,_assets.clickPingback)({block:"120003",rseat:"duobao_onemore"}),$CURRENT_CLICKED_BUTTON.click(),firstTimeSnatchDialog.close())}}]}),mescroll=new MeScroll("mescroll",{down:{use:!1},up:{use:!0,auto:!0,page:{num:0,size:_apis.PAGE_SIZE},isBounce:!0,clearEmptyId:"listContainer",htmlLoading:'<span class="upwarp-progress mescroll-rotate"></span><span class="mescroll-tips">加载中...</span>',htmlNodata:'<span class="mescroll-tips">没有更多了</span>',empty:{warpId:"noRecord",icon:null,tip:'<div id="'+emptyStateId+'" class="no-image"></div><div id="'+emptyTextId+'" class="no-record-content">还没有积分夺宝活动~</div>'},callback:function(_ref4){var page=_ref4.num,size=_ref4.size,offset=(page-1)*size;(0,_apis.getSnatchList)(offset,size).then(function(data){var _data$list=data.list,contents=_data$list.contents,total=_data$list.total,_data$totalUserNum=data.totalUserNum,totalUserNum=void 0===_data$totalUserNum?0:_data$totalUserNum,hasCount=(page-1)*size;1===page&&snatchButton.resetList(),(0,_apis.getOrderState)(contents).then(function(orderedMaps){snatchButton.updateOrderedState(orderedMaps);var list=contents.map(function(detail,key){var _options=(0,_assets.getProdOptions)(detail,{key:key,page:page,hasCount:hasCount,isOrdered:orderedMaps[detail.code],lastPeriod:function(hasCount){return hasCount<1?"":snatchButton.getList()[hasCount-1]._options.period}(hasCount)});return"after"!==_options.period&&snatchCounter++,_extends({},detail,{_options:_options})});snatchButton.addList(list).updateTotalNum(totalUserNum),mescroll.endBySize(list.length,total),updateTotalUserCount(totalUserNum),(0,_assets.listRender)($("#listContainer"),"append",list),function(hasCount,page){var listData=snatchButton.getList();$("#listContainer").children('[data-id="listItem"][data-page="'+page+'"]').each(function(k){var hasProgress=$(this).has('[data-id="progress"]')||null;if(hasProgress&&hasProgress.length){var key=hasCount+k,detail=listData[key],progressBarStyle=detail._options.progressBarStyle,$container=$(this).find('[data-id="progress"]');$container.empty(),PROGRESS_MAPS[key]=new _Components.Progress({container:$container,hasCount:parseFloat(detail.current_num),total:parseFloat(detail.total_num),style:progressBarStyle})}})}(hasCount,page),updateEmpty("empty","还没有积分夺宝活动~")})}).catch(function(err){mescroll.endErr(),snatchButton.getList().length||(mescroll.showEmpty(),err.code&&updateEmpty(err.code,err.message))}).finally(function(){pageLoading.destroy()})}}});function updateTotalUserCount(totalUserNum){$("#totalParticipates").text(totalUserNum)}$(document).ready(function(){$("#listContainer").on("click",'[data-id="listItem"]',function(e){var $this=$(this),$own=$(e.target),$thisAttr=$this.attr("data-id"),ownAttr=$own.attr("data-id");if("listItem"===$thisAttr&&"submit"!==ownAttr){var key=parseFloat($this.attr("data-key")),item=snatchButton.getList()[key]||{};(0,_assets.clickPingback)({rseat:"dbgoods"+(key+1)}),location.href=(0,_assets.getDetailUrl)(item.code||"")}}),snatchButton.register(),$("#visitRecord").click(function(){1===MY_LIST_TAB?(0,_assets.clickPingback)({rseat:"myduobao_btn_red"}):(0,_assets.clickPingback)({rseat:"myduobao_btn"}),newMessage.setMsgState({operate:"hide"},function(){location.href="/integralh5/snatch/record?tab="+MY_LIST_TAB})}),$("#showRuleDialog").click(function(){(0,_assets.clickPingback)({rseat:"duobao_rule"}),ruleDialog.open()})})},212:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(0);var $,USER_ID,LOCAL_DEFAULT_KEY,NewMessage=($=Zepto,USER_ID=(0,_utils.getUserId)(),LOCAL_DEFAULT_KEY="NEW_MESSAGE_"+location.pathname.split("/").join("_").toUpperCase()+"_"+USER_ID,function(){function NewMessage(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NewMessage);var _opts=(0,_utils.isString)(opts)?{messager:opts}:opts;this.options=_extends({messager:""},_opts)}return _createClass(NewMessage,[{key:"_getDOM",value:function(name){return(0,_utils.isZepto)(name)?name:$(name)}},{key:"_changeDOMState",value:function(){var operate=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",$newMessage=this._getDOM(this.options.messager);"hide"===operate?$newMessage.hide():$newMessage.show()}},{key:"init",value:function(newCode){this._getDOM(this.options.messager).attr("data-code",newCode),this._changeDOMState("show")}},{key:"setMsgState",value:function(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,fn=arguments[1];if(opts){var $newMessage=this._getDOM(this.options.messager);if("show"===opts.operate)opts.code&&$newMessage.attr("data-code",opts.code);else{var code=$newMessage.attr("data-code");code&&(0,_utils.setLocalStorage)(LOCAL_DEFAULT_KEY,code)}this._changeDOMState(opts.operate)}return(0,_utils.isFunction)(fn)?fn():null}}],[{key:"getName",value:function(){return"newMessage"}},{key:"getVersion",value:function(){return"1.0.0"}}]),NewMessage}());exports.default=NewMessage},213:function(module,exports,__webpack_require__){},22:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(0);var $,SwitchMenu=($=Zepto,function(){function SwitchMenu(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SwitchMenu),this._id_=(0,_utils.generateComponentId)(),this.options=_extends({container:"body",activeKey:0,disabledKey:null,list:[],horizontalScroll:!1},options),this.init()}return _createClass(SwitchMenu,null,[{key:"getName",value:function(){return"switchMenu"}},{key:"getVersion",value:function(){return"1.0.0"}}]),_createClass(SwitchMenu,[{key:"init",value:function(){this._render()}},{key:"getComponent",value:function(){return $('*[data-switch-menu-id="'+this._id_+'"]')}},{key:"getComponentChild",value:function(selector){return $('*[data-switch-menu-id="'+this._id_+'"] *[data-switch-menu-name="'+selector+'"]')}},{key:"_itemTemplate",value:function(i,k){var _options=this.options,horizontalScroll=_options.horizontalScroll,length=_options.list.length,id=i.hasOwnProperty("id")?' id="'+i.id+'"':"",className=i.className?i.className:"switch-menu-item",active=i.active?" active":"",disabled=i.disabled?" disabled":"",cliabled=i.cliabled?i.cliabled:!i.disabled,styleBase=horizontalScroll?{}:{width:100/length+"%"},styleObj=(0,_utils.isObject)(i.style)?_extends({},styleBase,i.style):styleBase;return'\n        <li \n            data-switch-menu-name="item" \n            data-key="'+k+'" \n            class="'+className+active+disabled+'"'+id+' \n            data-cliabled="'+cliabled+'"\n            style="'+this._joinToStyle(styleObj)+'"\n        >\n            <span class="switch-menu-text">'+i.text+'</span>\n            <span class="switch-menu-line"></span>\n        </li>\n      '}},{key:"_componentTemplate",value:function(){var _this=this,list=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_options2=this.options,activeKey=_options2.activeKey,disabledKey=_options2.disabledKey,horizontalScroll=_options2.horizontalScroll,itemsTemp="";list.forEach(function(i,k){i.active=k===activeKey,i.disabled=k===disabledKey,itemsTemp+=_this._itemTemplate(i,k)});var horizontal=horizontalScroll?" horizontal-scroll":"";return'\n        <div data-switch-menu-id="'+this._id_+'" class="switch-menu">\n            <div class="switch-menu-inner">\n                <ul data-switch-menu-name="listWrapper" class="switch-menu-box'+horizontal+'">'+itemsTemp+"</ul>\n            </div>\n        </div>\n      "}},{key:"_getContainer",value:function(){var container=this.options.container;return(0,_utils.isZepto)(container)?container:$(container)}},{key:"_listRender",value:function(list){this._getContainer().html(this._componentTemplate(list));var $wrapper=this.getComponentChild("listWrapper"),that=this;$wrapper.on("click",'[data-switch-menu-name="item"][data-cliabled="true"]',function(){var onClick=that.options.onClick,$this=$(this),key=parseFloat($this.attr("data-key"));$wrapper.children().removeClass("active"),$this.addClass("active"),list=list.map(function(i,k){return _extends({},i,{active:k===key})}),(0,_utils.isFunction)(onClick)&&onClick(list[key],key,$this,that)})}},{key:"_joinToStyle",value:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(0,_utils.isObject)(args[0])?Object.keys(args[0]).map(function(k){return k+": "+args[0][k]+";"}).join(""):(0,_utils.isString)(args[0])&&(0,_utils.isString)(args[1])?args[0]+": "+args[1]+";":""}},{key:"_render",value:function(){this._listRender(this.options.list)}},{key:"triggerClick",value:function(key){$('[data-switch-menu-name="item"][data-cliabled="true"][data-key="'+key+'"]').click()}}]),SwitchMenu}());exports.default=SwitchMenu},23:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(0);var $,LabelShow=($=Zepto,function(){function LabelShow(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LabelShow),this.timeController=null,this._id_=(0,_utils.generateComponentId)(),this.options=_extends({container:"",list:[],period:1.5,spacing:.8},options),this.state={currentKey:0},this.init(),window.onunload=this.destroy()}return _createClass(LabelShow,[{key:"init",value:function(){$(this.options.container).html(this.render()),this.options.list.length&&this.play()}},{key:"render",value:function(){return'\n          <div data-label-show-id="'+this._id_+'" class="label-show-container">\n             <ul data-label-show-name="wrapper" class="label-show-wrapper">\n                 '+this._getListRender()+"\n             </ul>\n          </div>\n      "}},{key:"_getListRender",value:function(){var _this=this,listTemplate="";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.list).forEach(function(item,key){listTemplate+=_this._labelRender(item,key)}),listTemplate}},{key:"_labelRender",value:function(item){return item?'\n          <li data-label-show-name="item" class="label-show-item">\n              <div class="user-portrait">\n                  '+(item.isWin?'<i class="icon-crown"></i>':"")+'\n                  <img src="'+item.portrait+'" alt="">\n              </div>\n              <span class="user-name">'+item.text+"</span>\n          </li>\n      ":""}},{key:"getComponent",value:function(){return $('*[data-label-show-id="'+this._id_+'"]')}},{key:"getComponentChild",value:function(selector){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return $(null!==key?'*[data-label-show-id="'+this._id_+'"] *[data-label-show-name="'+selector+'"][key="'+key+'"]':'*[data-label-show-id="'+this._id_+'"] *[data-label-show-name="'+selector+'"]')}},{key:"addList",value:function(newList){var autoPlay=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.options.list=this.options.list.concat(newList),this.getComponentChild("wrapper").append(this._getListRender(newList)),autoPlay&&this.play()}},{key:"play",value:function(){var _this2=this;this.timeController||(this.timeController=setInterval(function(){var _options=_this2.options,list=_options.list,spacing=_options.spacing,currentKey=_this2.state.currentKey;if(_this2.state.currentKey<list.length-1){var move=(currentKey+1)*-spacing+"rem";_this2.getComponentChild("wrapper").css({transform:"translateY("+move+")"}),_this2.state.currentKey=currentKey+1}else _this2.destroy()},1e3*this.options.period))}},{key:"destroy",value:function(){clearInterval(this.timeController),this.timeController=null}}],[{key:"getName",value:function(){return"LabelShow"}},{key:"getVersion",value:function(){return"1.0.0-beta"}}]),LabelShow}());exports.default=LabelShow},3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.md5=function(string){var k,AA,BB,CC,DD,a,b,c,d,x=Array();for(string=uTF8Encode(string),x=convertToWordArray(string),a=1732584193,b=4023233417,c=2562383102,d=271733878,k=0;k<x.length;k+=16)AA=a,BB=b,CC=c,DD=d,a=FF(a,b,c,d,x[k+0],7,3614090360),d=FF(d,a,b,c,x[k+1],12,3905402710),c=FF(c,d,a,b,x[k+2],17,606105819),b=FF(b,c,d,a,x[k+3],22,3250441966),a=FF(a,b,c,d,x[k+4],7,4118548399),d=FF(d,a,b,c,x[k+5],12,1200080426),c=FF(c,d,a,b,x[k+6],17,2821735955),b=FF(b,c,d,a,x[k+7],22,4249261313),a=FF(a,b,c,d,x[k+8],7,1770035416),d=FF(d,a,b,c,x[k+9],12,2336552879),c=FF(c,d,a,b,x[k+10],17,4294925233),b=FF(b,c,d,a,x[k+11],22,2304563134),a=FF(a,b,c,d,x[k+12],7,1804603682),d=FF(d,a,b,c,x[k+13],12,4254626195),c=FF(c,d,a,b,x[k+14],17,2792965006),b=FF(b,c,d,a,x[k+15],22,1236535329),a=GG(a,b,c,d,x[k+1],5,4129170786),d=GG(d,a,b,c,x[k+6],9,3225465664),c=GG(c,d,a,b,x[k+11],14,643717713),b=GG(b,c,d,a,x[k+0],20,3921069994),a=GG(a,b,c,d,x[k+5],5,3593408605),d=GG(d,a,b,c,x[k+10],9,38016083),c=GG(c,d,a,b,x[k+15],14,3634488961),b=GG(b,c,d,a,x[k+4],20,3889429448),a=GG(a,b,c,d,x[k+9],5,568446438),d=GG(d,a,b,c,x[k+14],9,3275163606),c=GG(c,d,a,b,x[k+3],14,4107603335),b=GG(b,c,d,a,x[k+8],20,1163531501),a=GG(a,b,c,d,x[k+13],5,2850285829),d=GG(d,a,b,c,x[k+2],9,4243563512),c=GG(c,d,a,b,x[k+7],14,1735328473),b=GG(b,c,d,a,x[k+12],20,2368359562),a=HH(a,b,c,d,x[k+5],4,4294588738),d=HH(d,a,b,c,x[k+8],11,2272392833),c=HH(c,d,a,b,x[k+11],16,1839030562),b=HH(b,c,d,a,x[k+14],23,4259657740),a=HH(a,b,c,d,x[k+1],4,2763975236),d=HH(d,a,b,c,x[k+4],11,1272893353),c=HH(c,d,a,b,x[k+7],16,4139469664),b=HH(b,c,d,a,x[k+10],23,3200236656),a=HH(a,b,c,d,x[k+13],4,681279174),d=HH(d,a,b,c,x[k+0],11,3936430074),c=HH(c,d,a,b,x[k+3],16,3572445317),b=HH(b,c,d,a,x[k+6],23,76029189),a=HH(a,b,c,d,x[k+9],4,3654602809),d=HH(d,a,b,c,x[k+12],11,3873151461),c=HH(c,d,a,b,x[k+15],16,530742520),b=HH(b,c,d,a,x[k+2],23,3299628645),a=II(a,b,c,d,x[k+0],6,4096336452),d=II(d,a,b,c,x[k+7],10,1126891415),c=II(c,d,a,b,x[k+14],15,2878612391),b=II(b,c,d,a,x[k+5],21,4237533241),a=II(a,b,c,d,x[k+12],6,1700485571),d=II(d,a,b,c,x[k+3],10,2399980690),c=II(c,d,a,b,x[k+10],15,4293915773),b=II(b,c,d,a,x[k+1],21,2240044497),a=II(a,b,c,d,x[k+8],6,1873313359),d=II(d,a,b,c,x[k+15],10,4264355552),c=II(c,d,a,b,x[k+6],15,2734768916),b=II(b,c,d,a,x[k+13],21,1309151649),a=II(a,b,c,d,x[k+4],6,4149444226),d=II(d,a,b,c,x[k+11],10,3174756917),c=II(c,d,a,b,x[k+2],15,718787259),b=II(b,c,d,a,x[k+9],21,3951481745),a=addUnsigned(a,AA),b=addUnsigned(b,BB),c=addUnsigned(c,CC),d=addUnsigned(d,DD);return(wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d)).toLowerCase()};var rotateLeft=function(lValue,iShiftBits){return lValue<<iShiftBits|lValue>>>32-iShiftBits},addUnsigned=function(lX,lY){var lX4,lY4,lX8,lY8,lResult;return lX8=2147483648&lX,lY8=2147483648&lY,lResult=(1073741823&lX)+(1073741823&lY),(lX4=1073741824&lX)&(lY4=1073741824&lY)?2147483648^lResult^lX8^lY8:lX4|lY4?1073741824&lResult?3221225472^lResult^lX8^lY8:1073741824^lResult^lX8^lY8:lResult^lX8^lY8},FF=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(function(x,y,z){return x&y|~x&z}(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},GG=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(function(x,y,z){return x&z|y&~z}(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},HH=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(function(x,y,z){return x^y^z}(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},II=function(a,b,c,d,x,s,ac){return a=addUnsigned(a,addUnsigned(addUnsigned(function(x,y,z){return y^(x|~z)}(b,c,d),x),ac)),addUnsigned(rotateLeft(a,s),b)},convertToWordArray=function(string){for(var lWordCount,lMessageLength=string.length,lNumberOfWordsTempOne=lMessageLength+8,lNumberOfWords=16*((lNumberOfWordsTempOne-lNumberOfWordsTempOne%64)/64+1),lWordArray=Array(lNumberOfWords-1),lBytePosition=0,lByteCount=0;lByteCount<lMessageLength;)lBytePosition=lByteCount%4*8,lWordArray[lWordCount=(lByteCount-lByteCount%4)/4]=lWordArray[lWordCount]|string.charCodeAt(lByteCount)<<lBytePosition,lByteCount++;return lBytePosition=lByteCount%4*8,lWordArray[lWordCount=(lByteCount-lByteCount%4)/4]=lWordArray[lWordCount]|128<<lBytePosition,lWordArray[lNumberOfWords-2]=lMessageLength<<3,lWordArray[lNumberOfWords-1]=lMessageLength>>>29,lWordArray},wordToHex=function(lValue){var lCount,WordToHexValue="",WordToHexValueTemp="";for(lCount=0;lCount<=3;lCount++)WordToHexValue+=(WordToHexValueTemp="0"+(lValue>>>8*lCount&255).toString(16)).substr(WordToHexValueTemp.length-2,2);return WordToHexValue},uTF8Encode=function(string){string=string.replace(/\x0d\x0a/g,"\n");for(var output="",n=0;n<string.length;n++){var c=string.charCodeAt(n);c<128?output+=String.fromCharCode(c):c>127&&c<2048?(output+=String.fromCharCode(c>>6|192),output+=String.fromCharCode(63&c|128)):(output+=String.fromCharCode(c>>12|224),output+=String.fromCharCode(c>>6&63|128),output+=String.fromCharCode(63&c|128))}return output}},32:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clickPingback=exports.pagePingback=exports.pingbackGenerator=exports.sendPingback=exports.generateCommonParams=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_utils=__webpack_require__(0),_iqiyiPlugin=__webpack_require__(10),SEND_URL="https://msg.qy.net/v5/acg/jifen_act",commonParams={p1:(0,_utils.isIos)()?"2_22_221":"2_22_222",u:(0,_utils.getCookie)("QC005")||"",pu:(0,_utils.getUserId)()||"",v:"9.9.0",rn:(0,_utils.toString)(Math.floor(999999999*Math.random())),stime:Date.now()},generateCommonParams=exports.generateCommonParams=function(){return new Promise(function(resolve,reject){(0,_utils.isIqiyi)()||!commonParams.u?(0,_iqiyiPlugin.iqiyiInit)(function(data){commonParams.u=data.qyID,commonParams.v=data.version,resolve(commonParams)},function(err){reject(err)}):resolve(commonParams)})},sendPingback=exports.sendPingback=function(params){var serialize=arguments.length>1&&void 0!==arguments[1]&&arguments[1],image=new Image,query=(0,_utils.stringParams)(params,serialize);return-1==SEND_URL.indexOf("?")?image.src=SEND_URL+"?"+query:image.src=SEND_URL+"&"+query,image};exports.pingbackGenerator=function(){var baseParams=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},sendParams=_extends({},commonParams,baseParams,params);return sendPingback(sendParams)}},exports.pagePingback=function(rpage){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};generateCommonParams().then(function(common){sendPingback(_extends({},common,{t:"rpagev",rpage:rpage},options))})},exports.clickPingback=function(rpage,block,rseat){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};generateCommonParams().then(function(common){sendPingback(_extends({},common,{t:"click",rpage:rpage,block:block,rseat:rseat},options))})}},4:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setUrlHashAndParam=exports.createUrl=exports.createSign=exports.isURL=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_md=__webpack_require__(3),_verify=__webpack_require__(1),_transfer=__webpack_require__(2);exports.isURL=function(str){return!!(0,_verify.isString)(str)&&!!str.trim().match(/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g)};var createSign=exports.createSign=function(params){var sign=Object.keys(params).sort().map(function(k){return k+"="+params[k]}).join("|")+"|NKebb0M17dC5ihNSoTlX";return(0,_md.md5)(sign)};exports.createUrl=function(url,param){var sign=createSign(param);return param.sign=sign,url+"?"+(0,_transfer.stringParams)(param)},exports.setUrlHashAndParam=function(val1,val2){var _ref=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref$target=_ref.target,target=void 0===_ref$target?"param":_ref$target,_ref$historyMode=_ref.historyMode,historyMode=void 0!==_ref$historyMode&&_ref$historyMode,_ref$reset=_ref.reset,old=void 0!==_ref$reset&&_ref$reset?{}:"hash"===target?(0,_transfer.parseQueryString)(location.hash):(0,_transfer.parseQueryString)(location.search),valMap=(0,_verify.isObject)(val1)?_extends({},old,val1):_extends({},old,function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},val1,val2)),value=(0,_transfer.stringParams)(valMap),search="param"===target?"?"+value:location.search,hash="hash"===target?"#"+value:location.hash,url=""+location.pathname+search+hash;historyMode&&history&&(0,_verify.isFunction)(history.pushState)?history.pushState({},document.title,url):location.href=url}},40:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _options=__webpack_require__(41);Object.keys(_options).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _options[key]}})});var _listRender=__webpack_require__(48);Object.keys(_listRender).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _listRender[key]}})});var _pingback=__webpack_require__(59);Object.keys(_pingback).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _pingback[key]}})})},41:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.STATUS_MAP=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getPeriod=getPeriod,exports.getPermitStatus=getPermitStatus,exports.getDescription=getDescription,exports.getProgressBarStyle=getProgressBarStyle,exports.updateEmpty=function(type,text){"empty"===type?($("#emptyState").removeClass("image-network"),$("#emptyText").text(text)):($("#emptyState").addClass("image-network"),$("#emptyText").text(text))},exports.getProdOptions=function(detail,_ref){var isOrdered=_ref.isOrdered,exts=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["isOrdered"]),price=detail.price,_detail$item=detail.item,item=void 0===_detail$item?[]:_detail$item,_detail$current_num=detail.current_num,currentNum=void 0===_detail$current_num?0:_detail$current_num,_detail$total_num=detail.total_num,totalNum=void 0===_detail$total_num?0:_detail$total_num,startTime=detail.start_time,endTime=detail.end_time,_detail$current_user_=detail.current_user_num,currentUserNum=void 0===_detail$current_user_?0:_detail$current_user_,perLimit=detail.per_limit,status=detail.complete_status,period=getPeriod(detail),permitStatus=getPermitStatus(period,perLimit,currentUserNum);return _extends({isOrdered:isOrdered},exts,{period:period,price:price,status:status,currentNum:currentNum,currentUserNum:currentUserNum,totalNum:totalNum,permitStatus:permitStatus,showProgress:"before"!==period,title:(0,_utils.getObjectValueSafely)(item,"name",""),photos:(0,_utils.getObjectValueSafely)(item,"photos",[]),showButton:function(period,status){if(-1!==["before","after"].indexOf(period))return!0;return"IN_PROGRESS"===status}(period,status),disabledButton:function(period,permitStatus,currentNum,totalNum){if(-1!==["before","after"].indexOf(period))return!0;return currentNum>=totalNum||permitStatus}(period,permitStatus,currentNum,totalNum),buttonOptions:function(period,permitStatus,isWin,isOrdered){if("after"===period)return!0===isWin?{type:"win",text:"查看奖品"}:{type:"detail",text:"查看详情"};if("before"===period)return isOrdered?{type:"isOrdered",text:"已预约"}:{type:"notOrder",text:"开始提醒"};if(permitStatus)return{type:"onLimit",text:"已达上限"};return{type:"participate",text:"立即夺宝"}}(period,permitStatus,exts.isWin,isOrdered),desc:getDescription(period,startTime,endTime,status,exts.isWin),progressBarStyle:getProgressBarStyle(period,status)})},exports.getMySuccessOptions=function(detail){var exts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},title=detail.name,type=detail.type,subType=detail.subType,redeemCodes=detail.redeemCodes,photoList=detail.photoList,productsPrice=detail.productsPrice,orderId=detail.orderCode,_offTime=detail.offlineTime,timeStr=(0,_utils.transferTimeTo)("datetime",_offTime,"."),offlineTime=timeStr?timeStr.split(" ")[0]:"",extMap=(0,_utils.filterExts)(detail.exts),showButton=-1!==[4,6].indexOf(type)&&11===subType&&(0,_utils.isURL)(redeemCodes)||5===type&&0===subType&&extMap.touse;return _extends({},exts,{title:title,photoList:photoList,offlineTime:offlineTime,productsPrice:productsPrice,orderId:orderId,showButton:showButton,id:"mySuccess",disabled:!1,inProgressing:!1,extMap:(0,_utils.filterExts)(detail.exts),isExpried:Date.now()>_offTime})},exports.getNode=function(name){return $('[data-id="'+name+'"]')},exports.getDetailUrl=function(code){if((0,_utils.isIqiyi)()){var host=_configs.INTEGRAL_HOST[(0,_configs.GET_ENV)()];return"iqiyi://mobile/webview?&url="+encodeURIComponent(host+"/integralh5/snatch/detail?id="+code)}return"/integralh5/snatch/detail?id="+code};var _utils=__webpack_require__(0),_configs=__webpack_require__(58);var STATUS_MAP=exports.STATUS_MAP={IN_PROGRESS:"开奖失败",COMPLETE_SUCCESSFULLY:"开奖成功",COMPLETE_NOT_ENOUGH_PARTICIPANTS:"开奖失败",COMPLETE_FAIL:"开奖失败"};function getPeriod(detail){var startTime=detail.start_time,endTime=detail.end_time,status=detail.complete_status,nowTime=Date.now();return nowTime<startTime&&"IN_PROGRESS"===status?"before":nowTime>startTime&&nowTime<endTime&&"IN_PROGRESS"===status?"in":"after"}function getPermitStatus(period,perLimit,currentUserNum){return-1===["before","after"].indexOf(period)&&(!!perLimit&&currentUserNum>=perLimit)}function getDescription(period,startTime,endTime,status,isWin){return"before"===period?"开始："+(0,_utils.formatRelativeTime)(startTime,"."):"in"===period?"IN_PROGRESS"===status?"截止："+(0,_utils.formatRelativeTime)(endTime,"."):STATUS_MAP[status]:void 0===isWin?STATUS_MAP[status]:"COMPLETE_SUCCESSFULLY"===status?isWin?"已中奖":"未中奖":"开奖失败，积分将返还"}function getProgressBarStyle(period,status){return"after"===period&&"COMPLETE_SUCCESSFULLY"!==status?"default":"primary"}},47:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.askUnsubscribeSnatch=exports.askSubscribeSnatch=exports.fetchSnatchSubscribeState=exports.getOrderDetail=exports.getOrderList=exports.getNewNotice=exports.getMyList=exports.participate=exports.getSnatchList=exports.getSnatchDetail=exports.getUserInfo=exports.executeAJAX=exports.signPost=exports.signGet=exports.PAGE_SIZE=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getOrderState=function(list){var hasBefore=!1,beforeSnatchCodes=list.map(function(i){var period=(0,_assets.getPeriod)(i);return"before"===period?(hasBefore=!0,i.code):""});if(hasBefore)return fetchSnatchSubscribeState(beforeSnatchCodes);return Promise.resolve({})};var _utils=__webpack_require__(0),_request=__webpack_require__(20),_assets=__webpack_require__(40),API_userInfo=(exports.PAGE_SIZE=6,"user/info"),API_execute="task/execute",API_detail="treasure/detail",API_list="treasure/list",API_subscribe="common/subscribePush",API_unsubscribe="common/unsubscribePush",API_subscribeState="common/subscribeStatus",API_participate="treasure/participate",API_myList="treasure/myList",API_notice="treasure/notice",getReqParamsByKeys=(0,_request.paramsGenerator)({verticalCode:"iQIYI",typeCode:"point",agenttype:(0,_utils.isIos)()?20:21,srcplatform:(0,_utils.isIos)()?20:21,agentversion:"9.10.0",appver:"9.10.0",appKey:"basic_h5"}),getResponse=(0,_request.responseGenerator)({A00001:"请登录后查看",E00502:"夺宝已结束",E00503:"夺宝次数已满",E00504:"参与失败，您的积分不足"}),signGet=exports.signGet=(0,_request.signGetGenerator)(getReqParamsByKeys,getResponse),signPost=exports.signPost=(0,_request.signPostGenerator)(getReqParamsByKeys,getResponse),executeAJAX=exports.executeAJAX=function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},keys=arguments[2],extra=arguments[3];return signPost(API_execute,data,params,keys,extra)},fetchSnatchSubscribeState=(exports.getUserInfo=function(){return(0,_request.generateCommonParams)().then(function(baseParams){return signGet(API_userInfo,{authCookie:baseParams.authCookie,userId:baseParams.userId})})},exports.getSnatchDetail=function(code){return(0,_request.generateCommonParams)().then(function(baseParams){return signGet(API_detail,{userId:baseParams.userId,authCookie:baseParams.authCookie,ext:!0,code:code})})},exports.getSnatchList=function(offset,limit){return(0,_request.generateCommonParams)().then(function(_ref){var userId=_ref.userId,authCookie=_ref.authCookie,global=_ref.global,params={userId:userId,authCookie:authCookie,offset:offset,limit:limit};return global.version&&(params.agentversion=global.version,params.appver=global.version),signGet(API_list,params)})},exports.participate=function(code){return(0,_request.generateCommonParams)().then(function(baseParams){return signGet(API_participate,{userId:baseParams.userId,authCookie:baseParams.authCookie,code:code})})},exports.getMyList=function(_ref2){var page=_ref2.page,size=_ref2.size;return(0,_request.generateCommonParams)().then(function(baseParams){return signGet(API_myList,{userId:baseParams.userId,authCookie:baseParams.authCookie,page:page,size:size})})},exports.getNewNotice=function(_ref3){var view=_ref3.view;return(0,_request.generateCommonParams)().then(function(baseParams){return signGet(API_notice,{userId:baseParams.userId,authCookie:baseParams.authCookie,view:view})})},exports.getOrderList=function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_request.generateCommonParams)().then(function(baseParams){var _data={daojuOrderList:_extends({vertical_code:"iQIYI",partner_code:"tuEeSMno1wV8DkMY",user_id:baseParams.userId},data)},_params={authCookie:baseParams.authCookie,userId:baseParams.userId,appKey:baseParams.appKey,task_code:"daojuOrderList",timestamp:Date.now()};return executeAJAX(_data,_params).then(function(data){return data&&data.data?data.data:{contents:[],total:0}}).catch(function(){return{contents:[],total:0}})})},exports.getOrderDetail=function(product_id){return(0,_request.generateCommonParams)().then(function(baseParams){var _data={daojuProductDetail:{vertical_code:"iQIYI",user_id:baseParams.userId,version:"9.10.0",product_id:product_id}},_params={authCookie:baseParams.authCookie,userId:baseParams.userId,appKey:baseParams.appKey,task_code:"daojuProductDetail",timestamp:Date.now()};return executeAJAX(_data,_params)})},exports.fetchSnatchSubscribeState=function(){var codeList=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,_request.generateCommonParams)().then(function(_ref4){var userId=_ref4.userId,authCookie=_ref4.authCookie,global=_ref4.global,params={activity:"treasure",userId:userId,authCookie:authCookie,code:codeList.filter(function(i){return!!i}).join()};return global.version&&(params.agentversion=global.version,params.appver=global.version),signGet(API_subscribeState,params).then(function(_ref5){return _ref5.subscribeStatus}).catch(function(){return{}})})});exports.askSubscribeSnatch=function(){var codeList=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,_request.generateCommonParams)().then(function(_ref6){var userId=_ref6.userId,authCookie=_ref6.authCookie,global=_ref6.global,params={activity:"treasure",userId:userId,authCookie:authCookie,code:codeList.filter(function(i){return!!i}).join()};return global.version&&(params.agentversion=global.version,params.appver=global.version),signPost(API_subscribe,{},params)})},exports.askUnsubscribeSnatch=function(){var codeList=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,_request.generateCommonParams)().then(function(_ref7){var userId=_ref7.userId,authCookie=_ref7.authCookie,global=_ref7.global,params={activity:"treasure",userId:userId,authCookie:authCookie,code:codeList.filter(function(i){return!!i}).join()};return global.version&&(params.agentversion=global.version,params.appver=global.version),signPost(API_unsubscribe,{},params)})}},48:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getProdContent=getProdContent,exports.getBottomTemplate=getBottomTemplate,exports.winnerRender=function(winner,isCurrentUserWin){if(isCurrentUserWin)return'<div class="list-tips w-100 success" >\n        <div class="item ">\n          <div class="my-success">恭喜您中奖了</div>\n          <div class="my-success text-right " >\n            <span data-id="view-price">查看奖品<i class="my-success-icon"></i></span>\n          </div>\n        </div>\n      </div>';return winner&&winner.userId?'<div class="list-tips w-100">\n        <div class="item">\n          <span class="item-left"><img class="left-content" src="'+winner.avatar+'" alt="user avatar" /></span>\n          '+(winner.nickname.length>8?winner.nickname.slice(0,7)+"...":winner.nickname)+' 参与\n          <span class="color-primary">'+winner.num+"次</span>夺宝成功\n        </div>\n      </div>":'<div class="list-tips w-100">\n        <div class="item ml20 c6">积分将返还参与用户</div>\n      </div>'},exports.winnerListRender=function(rewardViews){var winnerFirst=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!rewardViews||!rewardViews.length)return"";var rank=["一","二","三"],spans="";return rewardViews.forEach(function(data,index){var winner=data.winner,span="";if(winner)if(0===index){var nickname=winnerFirst.nickname.length>8?winnerFirst.nickname.slice(0,7)+"...":winnerFirst.nickname;span=data.totalWinners>1?"</span>"+nickname+'等<span class="orange-word">'+data.totalWinners+"位</span>夺得"+rank[index]+"等奖":"</span>"+nickname+'<span class="orange-word">参与'+winnerFirst.num+"次</span>夺得"+rank[index]+"等奖",spans+='<div class="item">\n              <span class="rank-orange">1</span>\n              <span class="item-left"><img class="left-content" src="'+winner.avatar+'" alt="user avatar"/>'+span+"\n          </div>"}else{var _nickname=winner.nickname.length>8?winner.nickname.slice(0,7)+"...":winner.nickname.nickname;span=data.totalWinners>1?"</span>"+_nickname+'等<span class="orange-word">'+data.totalWinners+"位</span>用户夺得"+rank[index]+"等奖":"</span>"+_nickname+'<span class="orange-word">1位</span>用户夺得'+rank[index]+"等奖",spans+=1===index?'<div class="item">\n                <span class="rank-orange">2</span>\n                <span class="item-left"><img class="left-content" src="'+winner.avatar+'" alt="user avatar" />'+span+"\n            </div>":'<div class="item">\n                <span class="rank-orange">3</span>\n                <span class="item-left"><img class="left-content" src="'+winner.avatar+'" alt="user avatar" />'+span+"\n            </div>"}}),'\n    <div class="detail-reward-list"><div class="list-tips detail-reward-item">'+spans+"</div></div>\n  "},exports.listRender=function(){var $wrapper=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append",list=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],pageType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"home";if(!$wrapper)return;var content="";content="home"===pageType?function(){var list=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!list.length)return"";var listTemplate="",lastPeriod=list[0]._options.lastPeriod;return list.forEach(function(detail){var _options=detail._options,period=_options.period,itemTemp=prodTemplate(_options);lastPeriod!==period&&(listTemplate+=function(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in";return"in"===type?titleTemplate("yellow","夺宝进行中"):"before"===type?titleTemplate("blue","即将开始"):titleTemplate("pink","往期夺宝")}(period)),listTemplate+=itemTemp,lastPeriod=period}),listTemplate}(list):function(list){var template="",templateRender="success"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"history")?mySuccessTemplate:prodTemplate;return list.forEach(function(detail){template+=templateRender(detail._options)}),template}(list,pageType);"reset"===type?$wrapper.html(content):$wrapper.append(content)};var _utils=__webpack_require__(0);function titleTemplate(color,text){return'<h3 class="snatch-title">\n      <span class="title-wrapper">\n        <span class="title-circle circle-'+color+'"></span>\n        <span class="title-text">'+text+"</span>\n      </span>\n    </h3>"}function getProdContent(_ref){var period=_ref.period,desc=_ref.desc,currentUserNum=_ref.currentUserNum,template="";-1!==["in","after"].indexOf(period)?template+='\n      <div data-id="progress" class="list-progress"></div>\n      <div class="item-desc">'+desc+("in"===period&&(0,_utils.getUserId)()?'<span class="fr">已夺<span data-id="hasParticipated">'+currentUserNum+"</span>次</span>":"")+"</div>\n    ":template+='<div class="item-desc desc-before">'+desc+"</div>";return template}function getBottomTemplate(_ref2){var period=_ref2.period,price=_ref2.price,_ref2$buttonOptions=_ref2.buttonOptions,type=_ref2$buttonOptions.type,text=_ref2$buttonOptions.text,className="";return"after"===period&&"win"!==type?className="fix-default":-1!==["isOrdered","onLimit"].indexOf(type)&&(className="disabled"),'\n    <div class="bottom-block">\n        <span class="participate-price '+period+'">'+price+'积分/次</span>\n        <span data-id="submit" class="btn-orange gradient btn-fix '+className+'">'+text+"</span>\n    </div>\n  "}function prodTemplate(options){var title=options.title,key=options.key,period=options.period,hasCount=options.hasCount,page=options.page,photos=options.photos;return'<div data-id="listItem" class="list-wrapper" data-key="'+(hasCount+key)+'" data-page="'+page+'">\n        <div class="layout-group label-w246">\n            <div class="layout-label item-left">\n                <div class="image-wrapper">\n                    <img class="item-image" src="'+(0,_utils.getProductImage)(photos)+'"/>\n                </div>\n            </div>\n            <div class="item-right '+("after"===period&&"item-title-after")+'">\n                <h3 class="item-title">'+title+'</h3>\n                <div data-id="listItemMain">\n                    '+getProdContent(options)+"\n                    "+getBottomTemplate(options)+"\n                </div>\n            </div>\n        </div>\n    </div>"}function mySuccessTemplate(options){var id=options.id,orderId=options.orderId,title=options.title,key=options.key,showButton=options.showButton,disabled=options.disabled,isExpried=options.isExpried,offlineTime=options.offlineTime,productsPrice=options.productsPrice,hasCount=options.hasCount,buttonTemp="";showButton&&(buttonTemp='\n      <div class="button-wrapper">\n        <span data-id="toUse" class="btn-orange gradient btn-touse'+(disabled||isExpried?" disabled":"")+'">'+(isExpried?"已过期":disabled?"已使用":"去使用")+"</span>\n      </div>\n    ");return'<div class="list-wrapper '+(isExpried?"expried":"")+'" data-id="'+id+'" data-key="'+(hasCount+key)+'" '+(null===orderId?"":'data-order-id="'+orderId+'"')+'>\n        <div class="layout-group label-w178 background-wrapper">\n            <div class="layout-label layout-left">\n               <div class="price"><span class="unit">￥</span>'+productsPrice+'</div>\n            </div>\n            <div class="layout-right">\n                <div class="item-content'+(showButton?" with-button":"")+'">\n                    <h3 class="item-title">'+title+'</h3>\n                    <div class="record-validity">有效期至 '+offlineTime+"</div>\n                </div>\n                "+buttonTemp+"\n            </div>\n        </div>\n    </div>"}},5:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneByJSON=exports.clone=void 0;var _verify=__webpack_require__(1);exports.clone=function(obj){return function cloneGenetator(val){if((0,_verify.isObject)(val)){var o={};for(var p in val){var v=val[p];(0,_verify.isObject)(v)?o[p]=cloneGenetator(v):(0,_verify.isArray)(v)?o[p]=v.map(function(k){return cloneGenetator(k)}):o[p]=v}return o}return(0,_verify.isArray)(val)?val.map(function(k){return cloneGenetator(k)}):val}(obj)},exports.cloneByJSON=function(obj){return obj?JSON.parse(JSON.stringify(obj)):null}},58:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GET_ENV=function(){return"production"},exports.isDev=function(){return!1},exports.isTest=function(){return!1},exports.isPro=function(){return!0};exports.INTEGRAL_HOST={development:"http://h5-test.m.iqiyi.com",test:"http://h5-test.m.iqiyi.com",production:"https://h5.m.iqiyi.com"}},59:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clickPingback=exports.showPingback=exports.pvPingback=exports.DETAIL_PB=exports.MY_SUCCESS_PB=exports.MY_LIST_PB=exports.HOME_PB=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_pingback=__webpack_require__(32),HOME_PB=exports.HOME_PB={rpage:"duobao",block:"120001"};exports.MY_LIST_PB={rpage:"myduobao",block:"120002"},exports.MY_SUCCESS_PB={rpage:"myduobao",block:"120004"},exports.DETAIL_PB={rpage:"duobaodetail",block:""},exports.pvPingback=function(params){return(0,_pingback.generateCommonParams)().then(function(common){return(0,_pingback.sendPingback)(_extends({},common,HOME_PB,{t:"rpagev"},params))})},exports.showPingback=function(params){return(0,_pingback.generateCommonParams)().then(function(common){return(0,_pingback.sendPingback)(_extends({},common,HOME_PB,{t:"blockv"},params))})},exports.clickPingback=function(params){return(0,_pingback.generateCommonParams)().then(function(common){return(0,_pingback.sendPingback)(_extends({},common,HOME_PB,{t:"click"},params))})}},6:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.transferTimeTo=transferTimeTo,exports.splitTime=splitTime,exports.formatRelativeTime=function(targetTime){var split=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",nowTime=Date.now(),formatTime=transferTimeTo("datetime",targetTime,split),_splitTime=splitTime(formatTime,split),_splitTime2=_slicedToArray(_splitTime,5),hour=_splitTime2[3],minute=_splitTime2[4],dayStart=new Date(targetTime).setHours(0,0,0,0);if(nowTime<dayStart-864e5||nowTime>=targetTime)return formatTime.slice(5,-3);if(nowTime>=dayStart-864e5&&nowTime<dayStart)return"明天 "+hour+":"+minute;if(nowTime>=dayStart)return"今天 "+hour+":"+minute};exports.generateComponentId=function(component,length){var prefix=component||"",originalStr="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";length||(length=originalStr.length);var date=Date.now();return""+prefix+originalStr.replace(/[xy]/g,function(c){var r=(date+16*Math.random())%16|0;return date=Math.floor(date/16),("x"==c?r:7&r|8).toString(16)}).slice(0,length)};function _formatTime(time){var split=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""+(time<10?"0"+time:time)+split}function transferTimeTo(type,value){var split=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if("timestamp"===type)return new Date(value).getTime();if("datetime"===type){var date=new Date(value);return date.getFullYear()+split+_formatTime(date.getMonth()+1,split)+_formatTime(date.getDate()," ")+_formatTime(date.getHours(),":")+_formatTime(date.getMinutes(),":")+_formatTime(date.getSeconds())}return null}function splitTime(){var datetime=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",split=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",_dt=datetime.split(" ");if(2===_dt.length){var _dt$0$split=_dt[0].split(split),_dt$0$split2=_slicedToArray(_dt$0$split,3),year=_dt$0$split2[0],month=_dt$0$split2[1],day=_dt$0$split2[2],_dt$1$split=_dt[1].split(":"),_dt$1$split2=_slicedToArray(_dt$1$split,3),hour=_dt$1$split2[0],minute=_dt$1$split2[1],second=_dt$1$split2[2];return[year,"0"===month.slice(0,1)?month.slice(1):month,"0"===day.slice(0,1)?day.slice(1):day,hour,minute,second]}return[]}},7:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.setCookie=function(NameOfCookie,value,expiredays){var ExpireDate=new Date;ExpireDate.setTime(ExpireDate.getTime()+24*expiredays*3600*1e3),document.cookie=NameOfCookie+"="+encodeURIComponent(value)+(null==expiredays?"":"; expires="+ExpireDate.toGMTString())};var getCookie=exports.getCookie=function(NameOfCookie){if(document.cookie.length>0){var begin=document.cookie.indexOf(NameOfCookie+"=");if(-1!=begin){begin+=NameOfCookie.length+1;var end=document.cookie.indexOf(";",begin);return-1==end&&(end=document.cookie.length),decodeURIComponent(document.cookie.substring(begin,end))}}return null};exports.delCookie=function(NameOfCookie){getCookie(NameOfCookie)&&(document.cookie=NameOfCookie+"=; expires=Thu, 01-Jan-70 00:00:01 GMT")}},8:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ua=navigator.userAgent.toLowerCase();exports.isIos=function(){return/(iPhone\sOS)/i.test(_ua)},exports.isWeixin=function(){return/(MicroMessenger)/i.test(_ua)},exports.isIqiyi=function(){return/(iqiyi)/.test(_ua)},exports.isChrome=function(){return/Chrome\//.test(_ua)&&!/Version\/4/.test(_ua)},exports.iosEgt9=function(){return/iPhone OS (\d+)/i.exec(_ua)&&/iPhone OS (\d+)/i.exec(_ua)[1]>=9},exports.isIE=function(){return/msie/.test(_ua)},exports.isIEVer=function(ver){var b=document.createElement("b");return b.innerHTML="\x3c!--[if IE "+ver+"]><i></i><![endif]--\x3e",1===b.getElementsByTagName("i").length}},9:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.goToApp=exports.createCallAppParam=exports.createAppPageURL=exports.ROUTER_MAP=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(12);var _transfer=__webpack_require__(2),_userAgent=__webpack_require__(8),_callordownloadapp=__webpack_require__(24),PID_MAP={qyclient:"qyclient",webview:"webview"},generateURL=function(){var route=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"qyclient",params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,register=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],host=register?"iqiyi://mobile/register_business/"+PID_MAP[route]:"iqiyi://mobile/"+PID_MAP[route];return params?host+"?"+(0,_transfer.stringParams)(params,!1,register?2:1):""+host},ROUTER_MAP=exports.ROUTER_MAP=[{name:"HomePage",type:"integral"},{name:"ShoppingMall",type:"integral"},{name:"GoodsDetail",type:"integral"},{name:"IntegralPark",type:"integral"},{name:"TaskList",type:"integral"},{name:"TopicPk",type:"integral"},{name:"MyGain",type:"integral"},{name:"QuestionList",type:"integral"},{name:"QuestionDetail",type:"integral"},{name:"gamezhibo",type:"game"},{name:"kaquan",type:"wallet"},{name:"gotosetting",type:"setting"}],createAppPageURL=exports.createAppPageURL=function(_ref){var _ref$type=_ref.type,type=void 0===_ref$type?"pageName":_ref$type,_ref$value=_ref.value,value=void 0===_ref$value?"":_ref$value,params=_ref.params,integralPrams=_ref.integralPrams;if("pageName"===type){if(-1!==ROUTER_MAP.findIndex(function(i){return"integral"===i.type&&i.name===value}))return generateURL("qyclient",{pluginParams:function(pageName){var integralPrams=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.stringify({biz_id:100,biz_plugin:"qiyibase",biz_params:{biz_sub_id:106,biz_params:"bizId=IntegralRN&componentName=RNIntegral",biz_dynamic_params:"initParams="+JSON.stringify(_extends({pageName:pageName},integralPrams))}})}(value,integralPrams)});var router=ROUTER_MAP.find(function(i){return i.name===value})||{};if(router.name)return function(name){switch(name){case"gamezhibo":return generateURL("qyclient",{pluginParams:JSON.stringify({biz_id:9,biz_plugin:"com.qiyi.game.live.plugin",biz_params:{biz_sub_id:1,biz_dynamic_params:"type=4",biz_statistics:"block=jifen-1"}})});case"qixiulibao":return generateURL("qyclient",{pluginParams:JSON.stringify({biz_id:2,biz_plugin:"com.iqiyi.ishow",biz_params:{biz_sub_id:2,biz_dynamic_params:"roomId=0&anchorId=0&showGiftPanel=999",biz_statistics:"block=jifenlibao"}})});case"kaquan":return generateURL("qyclient",{pluginParams:JSON.stringify({biz_id:104,biz_params:{biz_sub_id:14}})});case"gamevip":return generateURL("qyclient",{pluginParams:JSON.stringify({biz_id:5,biz_plugin:"com.qiyi.gamecenter",biz_params:{biz_sub_id:23,biz_extend_params:"",biz_statistics:"block=bsline_store"}})});case"gotosetting":return generateURL("qyclient",{pluginParams:JSON.stringify({biz_id:100,biz_params:{biz_sub_id:"431",biz_params:"",biz_dynamic_params:"",biz_extend_params:"",biz_statistics:""},biz_plugin:"qiyibase"})})}}(router.name)}else{if("applink"===type)return generateURL(value,params,!1);if("url"===type)return value}return""},createCallAppParam=exports.createCallAppParam=function(createAppPageURL,params){var defaultConfig={SCHEME:createAppPageURL(params),FAILBACK:{IOS:"https://itunes.apple.com/cn/app/id393765873?mt=8",ANDROID:"//mbdapp.iqiyi.com/j/ap/iqiyi_1845.apk"},TIMEOUT:2e3};return(0,_userAgent.isIos)()?defaultConfig.COVER_IMG="http://www.iqiyipic.com/common/fix/browserOpen-img/browserOpen-img.png":(0,_userAgent.isWeixin)()&&(defaultConfig.FAILBACK.YYB="http://a.app.qq.com/o/simple.jsp?pkgname=com.qiyi.video&android_schema="+encodeURIComponent(createAppPageURL(params))),defaultConfig},appParams=function(params){return createCallAppParam(createAppPageURL,params)};exports.goToApp=function(params){return(0,_userAgent.isIqiyi)()?(0,_callordownloadapp.callNative)(appParams(params)):(0,_callordownloadapp.callOrDownloadApp)(appParams(params))}}});